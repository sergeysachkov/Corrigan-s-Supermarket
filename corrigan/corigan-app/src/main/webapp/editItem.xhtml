<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">
    <h:head>
        <title>Update Item</title>
    </h:head>
    <h:body>
        <h:outputStylesheet library="css" name="stockmgmt.css" />
        <h1>Edit item</h1>
        <h:form>
            <ul>
                <li>
                    <h:outputLabel id="itemIdLabel" for="itemId"
                                   value="Item ID"/>
                    <h:inputText id="itemId" disabled="true" 
                                 value="#{stockManageBean.itemId}"
                                 required="true"
                                 requiredMessage="Please enter an ID."
                                 converterMessage="Plese enter numbers only."/>
                    <h:message class="vmsg" for="itemId" />
                </li>
                <li>
                    <h:outputLabel id="itemNameLable" for="itemName"
                                   value="Name"/>
                    <h:inputText id="itemName" disabled="false" value="#{stockManageBean.name}" 
                                 required="true"
                                 requiredMessage="Please enter a name."
                                 validatorMessage="Item name should be no more than 50 characters.">
                        <f:validateLength maximum="50" />
                    </h:inputText>
                    <h:message class="vmsg" for="itemName" />
                </li>
                <li>
                    <h:outputLabel id="quantityLable" for="itemQuantity"
                                   value="Quantity"/>
                    <h:inputText id="itemQuantity" disabled="false" value="#{stockManageBean.quantity}"
                                 validatorMessage="Please enter a valid (&gt;0) quantity. " required="true" 
                                 converterMessage="Please enter numbers only."
                                 requiredMessage="Please enter a quantity.">
                        <f:convertNumber integerOnly="true" type="number" />
                        <f:validateLongRange minimum="1" />
                    </h:inputText>
                    <h:message class="vmsg" for="itemQuantity"/>
                </li>
                <li>
                    <h:outputLabel id="unitLable" for="itemUnit"
                                   value="Unit"/>
                    <h:inputText id="unit" disabled="false" value="#{stockManageBean.unit}" 
                                 required="true"
                                 requiredMessage="Please enter a unit."/>
                    <h:message class="vmsg" for="unit" />
                </li>
                <li>
                    <h:outputLabel id="descLable" for="itemDesc"
                                   value="Description"/>
                    <h:inputTextarea id="description" disabled="false" 
                                     value="#{stockManageBean.description}"
                                     required="true"
                                     requiredMessage="Please enter description."/>
                    <h:message class="vmsg" for="description" />
                </li>
                <li>
                    <h:outputLabel id="priceLabel" for="itemPrice"
                                   value="Price"/>
                    <h:inputText id="price" disabled="false" 
                                 value="#{stockManageBean.price}"
                                 required="true"
                                 requiredMessage="Please enter a price."
                                 validatorMessage="Please enter a valid price."
                                 converterMessage="Please enter decimals only.">
                        <f:convertNumber type="number" />
                        <f:validateDoubleRange minimum="0.01" />
                    </h:inputText>
                    <h:message class="vmsg" for="price" />
                </li>
                <li>
                    <h:outputLabel id="categoryNameLabel" for="categoryName"
                                   value="Category"/>
                    <h:selectOneMenu disabled="false" value="#{stockManageBean.category}">
                        <f:selectItems value="#{stockManageBean.categoryList}"/>
                    </h:selectOneMenu>
                </li>
                <li class="action-links">
                    <h:link value="&lt; Back" outcome="manageStock">
                    </h:link>
                    <h:commandLink value="Save &gt;" action="#{stockManageBean.doUpdate()}">
                        <f:param name="itemId" value="#{stockManageBean.itemId}" />
                    </h:commandLink>
                </li>
            </ul>
        </h:form>
    </h:body>
</html>

